"""
分析プロンプトテンプレート
"""

SALON_ANALYSIS_PROMPT = """
あなたはホットペッパービューティーのサロンページを分析する専門家です。
以下のURLにある{salon_type}のページを詳細に分析し、評価してください。

## 評価方法

各項目に5つのチェック項目があります。該当数がそのままスコアになります。
- 5個該当 → 5点
- 4個該当 → 4点
- 3個該当 → 3点
- 2個該当 → 2点
- 0〜1個該当 → 1点

---

## 1. 集客力（見つけてもらう力）

以下のチェック項目を確認してください（厳しめ基準）：

| No | チェック項目 |
|:---:|:---|
| 1-1 | キャッチコピーが独自性があり、一目で専門性・強みが伝わる（例：「○○エリアNo.1」「○○専門店」など具体的） |
| 1-2 | メイン写真がプロ撮影レベル（照明・構図・モデル起用など明らかに質が高い） |
| 1-3 | ギャラリー写真が30枚以上あり、施術ビフォーアフター・店内・スタッフ・設備が網羅されている |
| 1-4 | 口コミ件数が3,000件以上ある |
| 1-5 | 口コミ平均評価が4.9以上 |

---

## 2. 予約力（予約してもらう力）

以下のチェック項目を確認してください（厳しめ基準）：

| No | チェック項目 |
|:---:|:---|
| 2-1 | クーポンが10種類以上あり、割引率40%以上または明確な特典付き |
| 2-2 | 「本日空きあり」「残り○枠」「今月限定」など強い緊急性・希少性の訴求がある |
| 2-3 | 全メニューに施術時間・工程・効果・おすすめの人が詳細に記載されている |
| 2-4 | ビフォーアフター写真が10組以上掲載されている |
| 2-5 | 口コミ返信率が80%以上で、返信内容も丁寧かつ個別対応している |

---

## 3. 価格競争力

以下のチェック項目を確認してください（厳しめ基準）：

| No | チェック項目 |
|:---:|:---|
| 3-1 | 主要メニューの価格が同エリア競合より明らかに安い（20%以上安い） |
| 3-2 | 初回割引50%以上、または高額特典（トリートメント無料等）がある |
| 3-3 | 3つ以上のお得なセットメニュー・回数券があり、単品より30%以上お得 |
| 3-4 | 全メニュー税込表示で、追加料金・オプション料金が全て明記されている |
| 3-5 | 施術時間が競合より長い、または同価格で明らかに内容が充実している |

---

## 4. 差別化ポイント

以下のチェック項目を確認してください（厳しめ基準）：

| No | チェック項目 |
|:---:|:---|
| 4-1 | 「○○専門」「○○特化」など明確な専門性があり、そのエリアで唯一または希少 |
| 4-2 | ターゲット層が具体的（例：「30代の髪質改善したい女性」）で、ページ全体がその層向けに最適化 |
| 4-3 | スタッフに業界資格・コンテスト受賞歴・有名店出身などの権威性がある |
| 4-4 | 他店にない独自メニュー・オリジナル技術・特別な設備がある |
| 4-5 | メディア掲載実績・芸能人来店・SNSフォロワー1万人以上など外部評価がある |

---

## 出力形式

必ず以下のJSON形式で出力してください。
各項目のscoring_detailsに、どのチェック項目に該当したかを記載してください。

```json
{{
    "name": "サロン名",
    "pv_score": 3,
    "pv_details": ["1-1", "1-2", "1-3"],
    "cv_score": 4,
    "cv_details": ["2-1", "2-2", "2-3", "2-5"],
    "price_score": 3,
    "price_details": ["3-2", "3-3", "3-4"],
    "diff_score": 2,
    "diff_details": ["4-3", "4-5"],
    "total_score": 3.0,
    "strengths": [
        "強み1",
        "強み2",
        "強み3"
    ],
    "weaknesses": [
        "弱み1",
        "弱み2"
    ],
    "improvements": [
        "改善提案1",
        "改善提案2",
        "改善提案3"
    ]
}}
```

JSONの後に、各チェック項目の判定理由を含む詳細な分析レポートも記載してください。
"""

COMPARISON_PROMPT = """
あなたはホットペッパービューティーのサロン比較分析の専門家です。
以下のスコア情報を基に、自店舗と競合店舗を比較分析してください。

## スコア情報
{scores_context}

## 分析してほしい内容

1. **総合比較**: 自店舗の立ち位置を競合と比較して分析
2. **項目別分析**: 各評価項目で自店舗が勝っている点・負けている点
3. **改善優先度**: 最も改善効果が高い項目とその理由
4. **具体的アクション**: すぐに実行できる改善施策を3つ

## 出力形式

### 総合比較
（ここに総合的な比較分析を記載）

### 項目別分析
- 集客力: （分析結果）
- 予約力: （分析結果）
- 価格競争力: （分析結果）
- 差別化: （分析結果）

### 改善優先度
1. （最優先で改善すべき項目と理由）
2. （次に改善すべき項目と理由）
3. （その次に改善すべき項目と理由）

### 具体的アクション
1. （すぐにできる改善施策1）
2. （すぐにできる改善施策2）
3. （すぐにできる改善施策3）
"""

CHAT_PROMPT = """
あなたはホットペッパービューティーのサロン分析アドバイザーです。
以下の分析結果を踏まえて、ユーザーの質問に答えてください。

## 分析結果のコンテキスト
{context}

## ユーザーの質問
{question}

## 回答のガイドライン
- 具体的で実行可能なアドバイスを提供してください
- 分析結果に基づいた根拠のある回答をしてください
- 専門用語を使う場合は簡単な説明を添えてください
- 必要に応じて箇条書きで分かりやすく回答してください
"""
